<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Painel do Administrador - Show do Milhão</title>
  <link rel="stylesheet" href="estilo.css">
</head>
<body class="escuro">
  <header>
    <img src="vigor.png" alt="Logo Vigor" class="logo logo-vigor">
    <h1>Painel do Administrador</h1>
  </header>

  <main class="container-admin">
    <form id="formPergunta">
      <h2>➕ Adicionar Pergunta</h2>
      <textarea id="pergunta" placeholder="Digite a pergunta..." required></textarea>

      <div class="alternativas">
        <input type="text" id="a" placeholder="Alternativa A" required>
        <input type="text" id="b" placeholder="Alternativa B" required>
        <input type="text" id="c" placeholder="Alternativa C" required>
        <input type="text" id="d" placeholder="Alternativa D" required>
      </div>

      <input type="text" id="correta" maxlength="1" placeholder="Resposta correta (A, B, C ou D)" required>
      <button type="submit" class="botao-acao">Salvar Pergunta</button>
    </form>

    <button id="assistenteIA" class="botao-acao">🤖 Gerar Pergunta com IA</button>

    <h2>📋 Perguntas Cadastradas</h2>
    <ul id="listaPerguntas"></ul>

    <div class="acoes">
      <a href="index.html" class="botao-acao">🎮 Voltar ao Jogo</a>
    </div>
  </main>

  <footer>
    <img src="lala.png" alt="Logo Lala" class="logo logo-lala">
  </footer>

  <script>
    const exemplos = [
      { pergunta: "Qual é o maior mamífero do planeta?", a: "Elefante", b: "Baleia-Azul", c: "Girafa", d: "Orca", correta: "B" },
      { pergunta: "Quem pintou a Mona Lisa?", a: "Michelangelo", b: "Da Vinci", c: "Van Gogh", d: "Picasso", correta: "B" }
    ];

    const lista = document.getElementById("listaPerguntas");

    function atualizarLista() {
      lista.innerHTML = "";
      const perguntas = JSON.parse(localStorage.getItem("perguntas")) || [];
      perguntas.forEach((p, i) => {
        const li = document.createElement("li");
        li.innerHTML = `
          <strong>${p.pergunta}</strong><br>
          A) ${p.a} | B) ${p.b} | C) ${p.c} | D) ${p.d} <br>
          ✅ Resposta: ${p.correta}
          <button onclick="excluirPergunta(${i})" class="botao-excluir">🗑️ Excluir</button>
        `;
        lista.appendChild(li);
      });
    }

    function excluirPergunta(index) {
      const perguntas = JSON.parse(localStorage.getItem("perguntas")) || [];
      perguntas.splice(index, 1);
      localStorage.setItem("perguntas", JSON.stringify(perguntas));
      atualizarLista();
    }

    document.getElementById("assistenteIA").addEventListener("click", () => {
      const sorteado = exemplos[Math.floor(Math.random() * exemplos.length)];
      document.getElementById("pergunta").value = sorteado.pergunta;
      document.getElementById("a").value = sorteado.a;
      document.getElementById("b").value = sorteado.b;
      document.getElementById("c").value = sorteado.c;
      document.getElementById("d").value = sorteado.d;
      document.getElementById("correta").value = sorteado.correta;
    });

    document.getElementById("formPergunta").addEventListener("submit", (e) => {
      e.preventDefault();
      const nova = {
        pergunta: pergunta.value,
        a: a.value,
        b: b.value,
        c: c.value,
        d: d.value,
        correta: correta.value.toUpperCase()
      };
      const perguntas = JSON.parse(localStorage.getItem("perguntas")) || [];
      perguntas.push(nova);
      localStorage.setItem("perguntas", JSON.stringify(perguntas));
      atualizarLista();
      e.target.reset();
    });

    atualizarLista();
  </script>
</body>
</html>
