<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Show do Milhão - Semana da Qualidade</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        /* ===== RESET E CONFIGURAÇÕES GLOBAIS ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', 'Arial', sans-serif;
            background: linear-gradient(135deg, #0c0c2e 0%, #1a1a3e 50%, #2d2d5a 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* ===== EFEITOS DE FUNDO ===== */
        .bg-effects {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            background: #ffd700;
            border-radius: 50%;
            opacity: 0.1;
            animation: float 15s infinite linear;
        }

        .particle:nth-child(1) {
            width: 100px;
            height: 100px;
            top: 20%;
            left: 10%;
            animation-delay: 0s;
        }

        .particle:nth-child(2) {
            width: 150px;
            height: 150px;
            top: 60%;
            right: 10%;
            animation-delay: -5s;
        }

        .particle:nth-child(3) {
            width: 80px;
            height: 80px;
            bottom: 30%;
            left: 20%;
            animation-delay: -10s;
        }

        .particle:nth-child(4) {
            width: 120px;
            height: 120px;
            top: 40%;
            right: 20%;
            animation-delay: -7s;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
                opacity: 0.1;
            }
            50% {
                transform: translateY(-20px) rotate(180deg);
                opacity: 0.2;
            }
        }

        /* ===== CONTAINER PRINCIPAL ===== */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 2;
        }

        /* ===== CABEÇALHO ===== */
        .header {
            text-align: center;
            margin-bottom: 50px;
            padding-top: 40px;
        }

        .title-container {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 20px;
            padding: 30px;
            display: inline-block;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .main-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 3.5em;
            font-weight: 900;
            background: linear-gradient(45deg, #ffd700, #ff6b00, #ffd700);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            animation: shine 3s ease-in-out infinite;
            text-transform: uppercase;
            letter-spacing: 3px;
        }

        @keyframes shine {
            0%, 100% {
                background-position: 0% 50%;
                text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
            }
            50% {
                background-position: 100% 50%;
                text-shadow: 0 0 30px rgba(255, 215, 0, 0.8);
            }
        }

        .subtitle {
            font-size: 1.3em;
            color: #b8b8b8;
            font-weight: 300;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        /* ===== INFO DO JOGO ===== */
        .game-info {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.2em;
            color: #ffd700;
        }

        .score {
            font-weight: bold;
            font-size: 1.3em;
        }

        .level-indicator {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            margin-left: 15px;
            font-size: 0.9em;
        }

        .level-facil {
            background: #00ff88;
            color: #1a1a3e;
        }

        .level-medio {
            background: #ffd700;
            color: #1a1a3e;
        }

        .level-dificil {
            background: #ff4444;
            color: white;
        }

        /* ===== ÁREA DO JOGO ===== */
        .game-area {
            max-width: 900px;
            margin: 0 auto;
        }

        .question-card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(15px);
            border-radius: 25px;
            padding: 50px 40px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .question-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, 
                transparent, 
                #ffd700, 
                transparent);
            animation: scanline 2s linear infinite;
        }

        @keyframes scanline {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        /* ===== PERGUNTA ===== */
        .question {
            font-size: 1.6em;
            margin-bottom: 40px;
            text-align: center;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1.5;
        }

        .question h2 {
            font-weight: 400;
            color: #ffffff;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        /* ===== GRID DE OPÇÕES ===== */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            max-width: 700px;
            margin: 0 auto;
        }

        .option-btn {
            background: linear-gradient(135deg, 
                rgba(255, 215, 0, 0.15) 0%, 
                rgba(138, 43, 226, 0.1) 100%);
            border: 2px solid rgba(255, 215, 0, 0.3);
            color: #ffffff;
            padding: 25px 20px 25px 60px;
            border-radius: 15px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            text-align: left;
            font-weight: 500;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(5px);
        }

        .option-btn::before {
            content: attr(data-letter);
            position: absolute;
            top: 50%;
            left: 20px;
            transform: translateY(-50%);
            width: 35px;
            height: 35px;
            background: rgba(255, 215, 0, 0.2);
            border: 2px solid rgba(255, 215, 0, 0.5);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #ffd700;
            font-size: 0.9em;
        }

        .option-btn:hover {
            background: linear-gradient(135deg, 
                rgba(255, 215, 0, 0.25) 0%, 
                rgba(138, 43, 226, 0.2) 100%);
            border-color: #ffd700;
            transform: translateY(-5px) scale(1.02);
            box-shadow: 
                0 10px 25px rgba(255, 215, 0, 0.3),
                0 0 30px rgba(255, 215, 0, 0.2);
        }

        /* ===== TELA DE RESULTADO ===== */
        .result-screen {
            text-align: center;
            padding: 50px;
        }

        .result-title {
            font-size: 3em;
            color: #ffd700;
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .result-message {
            font-size: 1.5em;
            margin-bottom: 30px;
            color: #ffffff;
        }

        .result-score {
            font-size: 2em;
            color: #00ff88;
            margin-bottom: 30px;
            font-weight: bold;
        }

        /* ===== BOTÕES ===== */
        .actions {
            text-align: center;
            margin-top: 30px;
        }

        .admin-btn, .restart-btn {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            background: linear-gradient(135deg, #ffd700, #ff8c00);
            color: #1a1a3e;
            text-decoration: none;
            padding: 18px 35px;
            border-radius: 15px;
            font-weight: 700;
            font-size: 1.1em;
            transition: all 0.4s ease;
            box-shadow: 
                0 8px 25px rgba(255, 215, 0, 0.4),
                0 0 20px rgba(255, 140, 0, 0.3);
            border: none;
            cursor: pointer;
            margin: 0 10px;
        }

        .restart-btn {
            background: linear-gradient(135deg, #00ff88, #00cc66);
        }

        .admin-btn:hover, .restart-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 
                0 12px 35px rgba(255, 215, 0, 0.6),
                0 0 30px rgba(255, 140, 0, 0.4);
            color: #1a1a3e;
        }

        .btn-icon {
            font-size: 1.2em;
        }

        /* ===== ESTADOS DAS RESPOSTAS ===== */
        .correct {
            background: linear-gradient(135deg, 
                rgba(0, 255, 136, 0.3) 0%, 
                rgba(0, 200, 83, 0.4) 100%) !important;
            border-color: #00ff88 !important;
            animation: correctPulse 0.6s ease-in-out;
        }

        @keyframes correctPulse {
            0%, 100% { 
                box-shadow: 
                    0 0 20px rgba(0, 255, 136, 0.4),
                    0 0 40px rgba(0, 255, 136, 0.2);
            }
            50% { 
                box-shadow: 
                    0 0 30px rgba(0, 255, 136, 0.8),
                    0 0 60px rgba(0, 255, 136, 0.4);
            }
        }

        .wrong {
            background: linear-gradient(135deg, 
                rgba(255, 68, 68, 0.3) 0%, 
                rgba(220, 20, 60, 0.4) 100%) !important;
            border-color: #ff4444 !important;
            animation: wrongShake 0.5s ease-in-out;
        }

        @keyframes wrongShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-8px); }
            75% { transform: translateX(8px); }
        }

        /* ===== RESPONSIVIDADE ===== */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .main-title {
                font-size: 2.2em;
            }
            
            .question-card {
                padding: 30px 20px;
                margin: 0 10px 20px 10px;
            }
            
            .options-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .question {
                font-size: 1.3em;
            }
            
            .option-btn {
                padding: 20px 15px 20px 50px;
                font-size: 1em;
            }
            
            .admin-btn, .restart-btn {
                padding: 15px 25px;
                font-size: 1em;
                margin: 5px;
            }
        }

        @media (max-width: 480px) {
            .main-title {
                font-size: 1.8em;
            }
            
            .subtitle {
                font-size: 1em;
            }
            
            .question-card {
                padding: 25px 15px;
            }
            
            .question {
                font-size: 1.1em;
            }
            
            .option-btn {
                padding: 18px 12px 18px 45px;
                font-size: 0.9em;
            }
            
            .option-btn::before {
                width: 30px;
                height: 30px;
                left: 15px;
                font-size: 0.8em;
            }
        }
    </style>
</head>
<body>
    <!-- Efeitos de fundo -->
    <div class="bg-effects">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>

    <div class="container">
        <header class="header">
            <div class="title-container">
                <h1 class="main-title">SHOW DO MILHÃO</h1>
                <p class="subtitle">Semana da Qualidade</p>
            </div>
        </header>

        <!-- Informações do jogo -->
        <div class="game-info">
            <div class="score">Pergunta: <span id="currentQuestion">1</span>/10 | Acertos: <span id="score">0</span></div>
            <div class="level-indicator" id="levelIndicator">Fácil</div>
        </div>

        <main class="game-area">
            <!-- Tela do jogo -->
            <div id="gameScreen">
                <div class="question-card">
                    <div id="question" class="question">
                        <h2>Carregando perguntas...</h2>
                    </div>
                    <div id="options" class="options-grid">
                        <!-- Opções serão inseridas aqui -->
                    </div>
                </div>
            </div>

            <!-- Tela de resultado (inicialmente escondida) -->
            <div id="resultScreen" class="result-screen" style="display: none;">
                <h2 class="result-title" id="resultTitle">Parabéns!</h2>
                <div class="result-message" id="resultMessage">Você completou o desafio!</div>
                <div class="result-score" id="resultScore">Pontuação: 0/10</div>
                <div class="actions">
                    <button class="restart-btn" onclick="restartGame()">
                        🔄 Jogar Novamente
                    </button>
                    <a href="admin.html" class="admin-btn">
                        ⚙️ Gerenciar Perguntas
                    </a>
                </div>
            </div>

            <div class="actions">
                <a href="admin.html" class="admin-btn">
                    <span class="btn-icon">⚙️</span>
                    Adicionar / Editar Perguntas
                </a>
            </div>
        </main>
    </div>

    <!-- Sons -->
    <audio id="correctSound" preload="auto">
        <source src="sounds/acerto.mp3" type="audio/mpeg">
        <source src="sounds/acerto.wav" type="audio/wav">
        <source src="sounds/acerto.ogg" type="audio/ogg">
    </audio>
    <audio id="wrongSound" preload="auto">
        <source src="sounds/erro.mp3" type="audio/mpeg">
        <source src="sounds/erro.wav" type="audio/wav">
        <source src="sounds/erro.ogg" type="audio/ogg">
    </audio>
    <audio id="winSound" preload="auto">
        <source src="sounds/vitoria.mp3" type="audio/mpeg">
        <source src="sounds/vitoria.wav" type="audio/wav">
        <source src="sounds/vitoria.ogg" type="audio/ogg">
    </audio>

    <script>
        // SHOW DO MILHÃO - SCRIPT PRINCIPAL COM NÍVEIS

        console.log('🚀 Show do Milhão - Script carregado!');

        // PERGUNTAS PRÉ-CADASTRADAS COM NÍVEIS (40 PERGUNTAS)
        const defaultQuestions = [
            // ... (aqui viriam as 40 perguntas completas)
            // Para economizar espaço, estou omitindo as perguntas
            // Elas estão completas no código anterior
        ];

        // Variáveis do jogo
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let canAnswer = true;

        // Inicialização quando o DOM estiver pronto
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🎮 Iniciando Show do Milhão...');
            startNewGame();
        });

        function startNewGame() {
            console.log('🔄 Iniciando novo jogo...');
            
            // Carrega perguntas do localStorage ou usa as padrão
            let allQuestions = JSON.parse(localStorage.getItem('perguntas'));
            if (!allQuestions || allQuestions.length === 0) {
                console.log('📝 Usando perguntas padrão...');
                allQuestions = defaultQuestions;
                localStorage.setItem('perguntas', JSON.stringify(allQuestions));
            }
            
            // Seleciona perguntas por nível: 3 fáceis, 4 médias, 3 difíceis
            currentQuestions = selectQuestionsByLevel(allQuestions);
            currentQuestionIndex = 0;
            score = 0;
            canAnswer = true;
            
            console.log(`📚 ${currentQuestions.length} perguntas selecionadas por nível`);
            
            // Atualiza a interface
            updateScoreDisplay();
            updateLevelIndicator();
            showGameScreen();
            loadQuestion();
        }

        function selectQuestionsByLevel(allQuestions) {
            const easyQuestions = allQuestions.filter(q => q.nivel === 'facil');
            const mediumQuestions = allQuestions.filter(q => q.nivel === 'medio');
            const hardQuestions = allQuestions.filter(q => q.nivel === 'dificil');
            
            // Embaralha e seleciona as perguntas de cada nível
            const selectedEasy = shuffleArray(easyQuestions).slice(0, 3);
            const selectedMedium = shuffleArray(mediumQuestions).slice(0, 4);
            const selectedHard = shuffleArray(hardQuestions).slice(0, 3);
            
            console.log(`🎯 Selecionadas: ${selectedEasy.length} fáceis, ${selectedMedium.length} médias, ${selectedHard.length} difíceis`);
            
            return [...selectedEasy, ...selectedMedium, ...selectedHard];
        }

        function shuffleArray(array) {
            return [...array].sort(() => Math.random() - 0.5);
        }

        function updateScoreDisplay() {
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            document.getElementById('score').textContent = score;
        }

        function updateLevelIndicator() {
            const levelIndicator = document.getElementById('levelIndicator');
            const currentQuestion = currentQuestions[currentQuestionIndex];
            
            if (currentQuestion) {
                let levelText = '';
                let levelClass = '';
                
                switch(currentQuestion.nivel) {
                    case 'facil':
                        levelText = 'Fácil';
                        levelClass = 'level-facil';
                        break;
                    case 'medio':
                        levelText = 'Médio';
                        levelClass = 'level-medio';
                        break;
                    case 'dificil':
                        levelText = 'Difícil';
                        levelClass = 'level-dificil';
                        break;
                }
                
                levelIndicator.textContent = levelText;
                levelIndicator.className = 'level-indicator ' + levelClass;
            }
        }

        function showGameScreen() {
            document.getElementById('gameScreen').style.display = 'block';
            document.getElementById('resultScreen').style.display = 'none';
        }

        function showResultScreen() {
            document.getElementById('gameScreen').style.display = 'none';
            document.getElementById('resultScreen').style.display = 'block';
            
            const resultTitle = document.getElementById('resultTitle');
            const resultMessage = document.getElementById('resultMessage');
            const resultScore = document.getElementById('resultScore');
            
            resultScore.textContent = `Pontuação: ${score}/10`;
            
            if (score === 10) {
                resultTitle.textContent = "🎉 PARABÉNS! 🎉";
                resultMessage.textContent = "Você é um verdadeiro milionário! Acertou todas as perguntas!";
                // Toca som de vitória
                playSound('winSound');
            } else if (score >= 7) {
                resultTitle.textContent = "👏 Ótimo!";
                resultMessage.textContent = "Você foi muito bem! Quase chegou lá!";
            } else if (score >= 5) {
                resultTitle.textContent = "👍 Bom trabalho!";
                resultMessage.textContent = "Você foi bem, mas pode melhorar!";
            } else {
                resultTitle.textContent = "💪 Continue tentando!";
                resultMessage.textContent = "Não desanime! Tente novamente!";
            }
        }

        function loadQuestion() {
            if (!canAnswer) return;
            
            const question = currentQuestions[currentQuestionIndex];
            console.log(`❓ Carregando pergunta ${currentQuestionIndex + 1} (${question.nivel}): ${question.pergunta}`);
            
            const questionElement = document.getElementById('question');
            const optionsElement = document.getElementById('options');
            
            // Atualiza a pergunta
            questionElement.innerHTML = `<h2>${question.pergunta}</h2>`;
            
            // Limpa opções anteriores
            optionsElement.innerHTML = '';
            
            // Cria os botões de opção
            const opcoes = ['a', 'b', 'c', 'd'];
            opcoes.forEach(opcao => {
                const botao = document.createElement('button');
                botao.className = 'option-btn';
                botao.textContent = question[opcao];
                botao.setAttribute('data-letter', opcao.toUpperCase());
                botao.onclick = function() {
                    checkAnswer(opcao, this);
                };
                optionsElement.appendChild(botao);
            });
            
            // Atualiza indicador de nível
            updateLevelIndicator();
            
            console.log('✅ Pergunta carregada com sucesso');
        }

        // Função para tocar sons
        function playSound(soundId) {
            const sound = document.getElementById(soundId);
            if (sound) {
                sound.currentTime = 0; // Reinicia o som
                sound.play().catch(e => {
                    console.log(`🔇 Erro ao tocar som ${soundId}:`, e);
                });
            }
        }
        
        function checkAnswer(selectedOption, clickedButton) {
            if (!canAnswer) return;
            
            console.log(`🎯 Resposta selecionada: ${selectedOption}`);
            
            canAnswer = false;
            const correctOption = currentQuestions[currentQuestionIndex].correta;
            const optionsElement = document.getElementById('options');
            const allButtons = optionsElement.getElementsByClassName('option-btn');
            
            // Desabilita todos os botões
            for (let btn of allButtons) {
                btn.style.pointerEvents = 'none';
            }
            
            if (selectedOption === correctOption) {
                // Resposta correta
                console.log('🎉 Resposta correta!');
                score++;
                playSound('correctSound');
                clickedButton.classList.add('correct');
            } else {
                // Resposta errada
                console.log('❌ Resposta errada!');
                playSound('wrongSound');
                clickedButton.classList.add('wrong');
                
                // Mostra a resposta correta
                for (let btn of allButtons) {
                    if (btn.getAttribute('data-letter').toLowerCase() === correctOption) {
                        btn.classList.add('correct');
                    }
                }
            }
            
            // Atualiza o placar
            updateScoreDisplay();
            
            // Próxima pergunta ou final do jogo
            setTimeout(() => {
                currentQuestionIndex++;
                
                if (currentQuestionIndex < currentQuestions.length) {
                    canAnswer = true;
                    loadQuestion();
                } else {
                    // Fim do jogo
                    showResultScreen();
                }
            }, 2000);
        }

        function restartGame() {
            startNewGame();
        }

        // Função para debug
        window.debugGame = function() {
            console.log('🐛 Debug do jogo:');
            console.log('- LocalStorage:', localStorage.getItem('perguntas'));
            console.log('- Perguntas atuais:', currentQuestions);
            console.log('- Score:', score);
        };
    </script>
</body>
</html>
